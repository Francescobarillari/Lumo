@if (event) {
<div class="event-share-backdrop" (click)="close.emit()">
    <div class="event-share-modal" (click)="$event.stopPropagation()">
        <div class="event-share-header">
            <div class="header-title">
                <span>Share Event</span>
            </div>
            <button class="close-btn" (click)="close.emit()">
                <mat-icon>close</mat-icon>
            </button>
        </div>

        <div class="event-share-content">
            <div class="poster-preview" [style.backgroundImage]="'url(' + templateUrl + ')'">
                @if (posterPreviewUrl) {
                <img class="poster-preview-image" [src]="posterPreviewUrl" alt="Event poster">
                } @else {
                <div class="poster-preview-loading">Anteprima in generazione...</div>
                }
            </div>

            <div class="share-actions">
                <button class="button action-btn" (click)="downloadPoster()" [disabled]="downloading">
                    <mat-icon>download</mat-icon>
                    <span>{{ downloading ? 'Generating...' : 'Download poster' }}</span>
                </button>
                <button class="button action-btn secondary" (click)="shareLink()">
                    <mat-icon>link</mat-icon>
                    <span>Share link</span>
                </button>
            </div>
        </div>
    </div>
</div>
}
