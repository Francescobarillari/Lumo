<div class="modal-backdrop" (click)="onClose()">
    <div class="modal-container" (click)="$event.stopPropagation()">
        <div class="modal-header">
            <h2>Account</h2>
            <button class="close-btn" (click)="onClose()">
                <mat-icon>close</mat-icon>
            </button>
        </div>

        <div class="account-content">
            <div class="profile-section">
                <div class="avatar-container">
                    @if (user?.profileImage) {
                    <img [src]="user?.profileImage" alt="Profile" class="profile-image">
                    } @else {
                    <div class="profile-placeholder">{{ getInitials(user?.name || '') }}</div>
                    }
                    <button class="edit-photo-btn" (click)="onChangePhoto()">
                        <mat-icon>edit</mat-icon>
                    </button>
                </div>
                <h3 class="user-name">{{ user?.name }}</h3>
                <p class="user-email">{{ user?.email }}</p>

                <div class="stats-container">
                    <div class="stat-item">
                        <span class="stat-value">{{ user?.followersCount || 0 }}</span>
                        <span class="stat-label">Followers</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-value">{{ user?.followingCount || 0 }}</span>
                        <span class="stat-label">Following</span>
                    </div>
                </div>
            </div>

            <div class="actions-section">
                <button class="action-btn change-photo" (click)="onChangePhoto()">
                    <mat-icon>photo_camera</mat-icon>
                    Change Profile Photo
                </button>
                <!-- Add more account actions here if needed -->
            </div>
        </div>
    </div>
</div>